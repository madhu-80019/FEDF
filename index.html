<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Validated Form with JS Feedback</title>
<style>
  body {
    font-family: Arial, sans-serif;
    background: linear-gradient(135deg, #f0f4f8, #d9e2ec);
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    margin: 0;
  }
  form {
    background: #fff;
    padding: 25px 30px;
    border-radius: 12px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.2);
    width: 100%;
    max-width: 350px;
  }
  h2 {
    text-align: center;
    margin-bottom: 15px;
    color: #333;
  }
  label {
    display: block;
    margin-top: 10px;
    font-weight: 600;
    color: #333;
  }
  input {
    width: 100%;
    padding: 10px;
    margin-top: 6px;
    border-radius: 6px;
    border: 1px solid #ccc;
    font-size: 15px;
    transition: border-color 0.3s ease, background-color 0.3s ease;
  }
  input:focus {
    border-color: #4CAF50;
    outline: none;
  }
  .error {
    color: #d62828;
    font-size: 13px;
    height: 16px;
    margin-top: 2px;
  }
  .success {
    color: #2e7d32;
    font-weight: bold;
    margin-top: 15px;
    text-align: center;
    display: none;
  }
  .valid {
    border-color: green;
    background-color: #eaffea;
  }
  .invalid {
    border-color: red;
    background-color: #ffeaea;
  }
  button {
    margin-top: 18px;
    width: 100%;
    padding: 10px;
    background-color: #4CAF50;
    color: white;
    border: none;
    border-radius: 6px;
    cursor: pointer;
    font-size: 16px;
    font-weight: 600;
    transition: background-color 0.3s ease;
  }
  button:hover {
    background-color: #43a047;
  }
</style>
</head>
<body>

<form id="myForm" novalidate>
  <h2>üìù Registration Form</h2>

  <label for="fullname">Full Name:</label>
  <input type="text" id="fullname" placeholder="Enter your full name">
  <div class="error" id="fullnameError"></div>

  <label for="email">Email:</label>
  <input type="email" id="email" placeholder="Enter your email">
  <div class="error" id="emailError"></div>

  <label for="password">Password:</label>
  <input type="password" id="password" placeholder="Enter your password">
  <div class="error" id="passwordError"></div>

  <label for="phone">Phone Number:</label>
  <input type="tel" id="phone" placeholder="Enter your phone number">
  <div class="error" id="phoneError"></div>

  <button type="submit">Submit</button>
  <div class="success" id="successMessage">‚úÖ Form submitted successfully!</div>
</form>

<script>
const fields = {
  fullname: {
    element: document.getElementById('fullname'),
    error: document.getElementById('fullnameError'),
    validate: value => /^[A-Za-z\s]+$/.test(value.trim()) && value.trim() !== "",
    errorMessage: "Full name must contain only letters and spaces."
  },
  email: {
    element: document.getElementById('email'),
    error: document.getElementById('emailError'),
    validate: value => /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(value.trim()),
    errorMessage: "Invalid email format."
  },
  password: {
    element: document.getElementById('password'),
    error: document.getElementById('passwordError'),
    validate: value => {
      return value.length >= 6 &&
             /[A-Z]/.test(value) &&
             /[a-z]/.test(value) &&
             /[0-9]/.test(value) &&
             /[@$!%*?&]/.test(value);
    },
    errorMessage: "Password must have upper, lower, number & special char."
  },
  phone: {
    element: document.getElementById('phone'),
    error: document.getElementById('phoneError'),
    validate: value => /^[0-9]{10}$/.test(value.trim()),
    errorMessage: "Phone number must be exactly 10 digits."
  }
};

// Live validation
Object.values(fields).forEach(field => {
  field.element.addEventListener('input', () => {
    if (field.validate(field.element.value)) {
      field.error.textContent = "";
      field.element.classList.add('valid');
      field.element.classList.remove('invalid');
    } else {
      field.error.textContent = field.errorMessage;
      field.element.classList.add('invalid');
      field.element.classList.remove('valid');
    }
  });
});

// Form submit
document.getElementById('myForm').addEventListener('submit', function(event) {
  event.preventDefault();
  let allValid = true;

  Object.values(fields).forEach(field => {
    if (!field.validate(field.element.value)) {
      field.error.textContent = field.errorMessage;
      field.element.classList.add('invalid');
      field.element.classList.remove('valid');
      allValid = false;
    }
  });

  const successMessage = document.getElementById('successMessage');
  if (allValid) {
    successMessage.style.display = 'block';
    this.reset();
    Object.values(fields).forEach(field => field.element.classList.remove('valid','invalid'));
  } else {
    successMessage.style.display = 'none';
  }
});
</script>

</body>
</html>
